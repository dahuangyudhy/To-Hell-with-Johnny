/*音乐播放*/

void Music1(int op)
{
  int freq[9]={988,1047,1175,1319,1397,1568,1760,1976,2100};    /*高音7 及 最高音1到7*/
  int a[5][12]={
   {5,6,5,3,4,5,4,2,1,3,5,8},
   {1,2,3,4,5,1,4,3,2,0,1,1},
   {8,8,7,7,7,6,5,4,3,3,2,1,},
   {0,1,2,3,4,3,4,5,6,7,8,8},
   {1,3,5,7,8,0,0,0,0,0,0,0},
  };
  int de[5][12]={
    {1,1,1,1,1,1,1,1,2,1,1,4},
    {1,1,1,1,2,2,1,1,1,1,2,2},
    {1,1,1,1,1,1,1,1,1,1,1,1},
    {1,1,1,1,1,1,1,1,1,1,1,1},
    {1,1,1,1,1,0,0,0,0,0,0,0}
  };
  int i;
  for(i=0;i<12;i++){
    sound(freq[a[op][i]]);
    delay(de[op][i]*3000);
    nosound();
  }
}


/*利用中断控制游戏进行过程中的音乐播放*/
Music2(int op, int timer, int *timer_control)
{
  int k;
  int f[8] = {0,523,587,659,699,784,880,392};   /*分别为休止符和高音1到6，以及中音5*/
  int order[] =
  {
  /*小星星*/
  1,0,1,0,5,0,5,0,6,0,6,0,5,5,0,              
  4,0,4,0,3,0,3,0,2,0,2,0,1,1,0,
  5,0,5,0,4,0,4,0,3,0,3,0,2,2,0,
  5,0,5,0,4,0,4,0,3,0,3,0,2,2,0,
  1,0,1,0,5,0,5,0,6,0,6,0,5,5,0,
  4,0,4,0,3,0,3,0,2,0,2,0,1,1,0,
  0,0,0,0,

  /*欢乐颂*/
  3,3,0,3,3,0,4,4,0,5,5,0,5,5,0,4,4,0,3,3,0,2,2,0,1,1,0,1,1,0,2,2,0,3,3,0,3,3,3,3,0,2,0,2,2,2,0,0,0,
  3,3,0,3,3,0,4,4,0,5,5,0,5,5,0,4,4,0,3,3,0,2,2,0,1,1,0,1,1,0,2,2,0,3,3,0,2,2,2,2,0,1,0,1,1,1,0,0,0,
  2,2,0,2,2,0,3,3,0,1,0,0,2,2,0,3,0,4,0,3,3,0,1,0,0,2,2,0,3,0,4,0,3,3,0,2,2,0,1,1,0,2,2,0,7,7,0,
  3,3,3,3,0,3,3,0,4,4,0,5,5,0,5,5,0,4,4,0,3,3,0,2,2,0,1,1,0,1,1,0,2,2,0,3,3,0,2,2,2,2,0,1,0,1,1,1,0,0,0,
  0,0,0,0
};
  k = order[op];
  if(k!=0) sound(f[k]);
  else nosound();
  if((inportb(0x3da)&0x08)==0)
  {
    if(k<94)
      if(timer==8000) nosound();
    else 
      if(timer==4000) nosound();
    return;
  }  
}

